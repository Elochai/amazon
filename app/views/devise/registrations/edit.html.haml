%center
  = form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put }) do |f| 
    = devise_error_messages! 
    .panel.panel-info.panel-little#cc
      .panel-heading
        %h4== Edit "#{resource_name.to_s.humanize}":
      .panel-body
        %h5
          %label.control-label== Firstname: #{f.text_field :firstname, class: 'form-control'}
          %br
          %br
          %label.control-label== Lastname: #{f.text_field :lastname, class: 'form-control'}
          %br
          %br
          %label.control-label== Email: #{f.email_field :email, :autofocus => true, class: 'form-control'}
          %br
          %br
          - if devise_mapping.confirmable? && resource.pending_reconfirmation?
            == Currently waiting confirmation for: "#{resource.unconfirmed_email}"
          %label.control-label== Password: <i>(leave it blank if you do not want to change it)</i> #{f.password_field :password, :autocomplete => "off", class: 'form-control'}
          %br
          %br
          %label.control-label== Password confirmation: #{f.password_field :password_confirmation, class: 'form-control'}
          %br
          %br
          %label.control-label== Current password: <i>(we need your current password to confirm your changes)</i>#{f.password_field :current_password, class: 'form-control'}
          %br
          %br
          = f.submit 'Update', class:'btn btn-success'
          %hr
          = link_to "Delete my account", registration_path(resource_name), class:'btn btn-danger', :data => { :confirm => "Are you sure?" }, :method => :delete 
          %br
          = link_to "Back", :back, class:'btn btn-default'
